# Enable terminal 256 colour support
export TERM=xterm-256color
[ -n "$TMUX" ] && export TERM=screen-256color

# Path to your oh-my-zsh configuration.
ENVIRONMENT=$HOME/Environment
ZSH=$ENVIRONMENT/zsh

if [ -f $ENVIRONMENT/userspecific/zsh/before.zsh ]; then
	source $ENVIRONMENT/userspecific/zsh/before.zsh
fi

cd $ENVIRONMENT
if [ -z "`git status -uno | sed -n 2p | grep up-to-date`" ]; then
	echo "There is an update in your environment"
	echo "Lemme pull that shit"
	git pull -ff > /dev/null
else
	echo "There are no updates for your environment"
fi

cd ~

[ -r "$ZSH/settings.zsh" ] && source "$ZSH/settings.zsh"

# Loading imported libraries
for file in $ZSH/lib/*.zsh; do
	[ -r "$file" ] && source "$file"
done

# Loading configs
for file in $ZSH/conf/*.zsh; do
	[ -r "$file" ] && source "$file"
done
unset file

PATH=$PATH:$HOME/.rvm/bin # Add RVM to PATH for scripting

[ -s $HOME/.nvm/nvm.sh ] && . $HOME/.nvm/nvm.sh # This loads NVM

if [ -f $ENVIRONMENT/userspecific/zsh/after.zsh ]; then
	source $ENVIRONMENT/userspecific/zsh/after.zsh
fi



